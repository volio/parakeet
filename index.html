<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    
    <title>Parakeet</title>
    <meta charset="utf-8">
    
    <meta name="title" content="Parakeet">
    <meta name="description" content="">
    <meta property="og:image" content="/">
    <meta property="og:image:width" content="200" />
    <meta property="og:image:height" content="200" />
    <link rel="shortcut icon" href="/">
    
    <link rel="stylesheet"
        href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/arduino-light.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    
<link rel="stylesheet" href="/css/style.css">

    
<script src="/js/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Parakeet" type="application/atom+xml">
</head>

<body>
    <header class="header">
    <div class="blog-title">
        <a href="/" class="logo">Parakeet</a>
    </div>
    <nav class="navbar">
        <ul class="menu">
            
            
            
            <li class="menu-item">
                
                <a href="/" class="current-menu-item-link">Home</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/archives" class="menu-item-link">Archives</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/atom.xml" class="menu-item-link">RSS</a>
                
            </li>
            
        </ul>
    </nav>
</header>
    <main class="main">
        <section class="posts">
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/01/21/golang-slice-shuffle/">Golang Slice Shuffle</a>
        </div>
        <div class="post-content">
            
            <p>使用 rand 包提供的 Shuffle 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs plain">package main<br><br>import (<br>	&quot;fmt&quot;<br>	&quot;math&#x2F;rand&quot;<br>	&quot;strings&quot;<br>)<br><br>func main() &#123;<br>	words :&#x3D; strings.Fields(&quot;ink runs from the corners of my mouth&quot;)<br>	rand.Shuffle(len(words), func(i, j int) &#123;<br>		words[i], words[j] &#x3D; words[j], words[i]<br>	&#125;)<br>	fmt.Println(words)<br><br>&#125;<br></code></pre></td></tr></table></figure>

            <a class="More" href="/2020/01/21/golang-slice-shuffle/">More</a>
            
        </div>
        <div class="post-meta">
            <span class="post-time">2020/01/21</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/01/08/common-tools/">常用工具（持续更新）</a>
        </div>
        <div class="post-content">
            
            <p>Redis 容量预估：<a href="http://www.redis.cn/redis_memory/" target="_blank" rel="noopener">链接</a></p>

            <a class="More" href="/2020/01/08/common-tools/">More</a>
            
        </div>
        <div class="post-meta">
            <span class="post-time">2020/01/08</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/01/07/systemd/">Systemd 配置</a>
        </div>
        <div class="post-content">
            
            <h2 id="自动重启配置"><a href="#自动重启配置" class="headerlink" title="自动重启配置"></a>自动重启配置</h2><p>自动重启主要依赖三个配置参数，分别是 Restart、 StartLimitIntervalSec 和 StartLimitBurst。</p>
<h3 id="Restart"><a href="#Restart" class="headerlink" title="Restart"></a>Restart</h3><ul>
<li>no：不会重启</li>
<li>on-success：正常退出时重启</li>
<li>on-failure：非正常退出时重启</li>
<li>on-abnormal：被信号终止或超时时重启</li>
<li>on-watchdog</li>
<li>on-abort</li>
<li>always：只要退出就重启</li>
</ul>
<h3 id="频率限制"><a href="#频率限制" class="headerlink" title="频率限制"></a>频率限制</h3><p>StartLimitIntervalSec 用于指定一个重启间隔，默认为 10。StartLimitBurst 指在上述重启间隔内进程最多重启的次数。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>综合以上三个参数，给出的示例配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">StartLimitIntervalSec&#x3D;14400<br>StartLimitBurst&#x3D;10<br>Restart&#x3D;on-failure<br></code></pre></td></tr></table></figure>

<p>代表 14400 秒内最多允许进程重启十次，当非正常退出时重启。</p>
            <a class="More" href="/2020/01/07/systemd/">More</a>
            
        </div>
        <div class="post-meta">
            <span class="post-time">2020/01/07</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2019/12/31/common-linux-command/">常用 Linux 命令（持续更新）</a>
        </div>
        <div class="post-content">
            
            <p>查看端口监听</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">netstat -nlp<br></code></pre></td></tr></table></figure>

<p>查看进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">ps -aux<br></code></pre></td></tr></table></figure>

<p>连接 postgresql</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">psql -h 127.0.0.1 -p 5432 -U user -d dbname<br></code></pre></td></tr></table></figure>

<p>连接 redis</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">redis-cli -h 127.0.0.1 -p 6379 -a &quot;password&quot;<br></code></pre></td></tr></table></figure>

<p>安装 Docker</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">curl -fsSL https:&#x2F;&#x2F;get.docker.com -o get-docker.sh | sh get-docker.sh<br></code></pre></td></tr></table></figure>
            <a class="More" href="/2019/12/31/common-linux-command/">More</a>
            
        </div>
        <div class="post-meta">
            <span class="post-time">2019/12/31</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2019/12/31/hello-world/">你好，世界</a>
        </div>
        <div class="post-content">
            
            <p>使用 hexo 进行写作</p>

            <a class="More" href="/2019/12/31/hello-world/">More</a>
            
        </div>
        <div class="post-meta">
            <span class="post-time">2019/12/31</span>
        </div>
    </article>
    
</section>

<p class="license"></p>
    </main>
</body>

</html>